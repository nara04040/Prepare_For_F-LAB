## 개요
멘토님께서 const는 변하지 않는다고 말하는데, 과연 const로 선언한다면 변하지 않을까요? 여기서 말하는 불변성은 어떤 것을 말할까요?

라는 질문을 던지셨다.

지금부터 이 질문에 대해서 공부해보자.

## 불변성?

Immoutabilty(변경불가성)을 우리는 불변성이라고 부른다.

이 **"불변성"**은 객체가 생성된 이후 그 상태를 변경할 수 없는 "디자인 패턴"이라고 의미한다.

객체는 참조형태(reference Data Type)이고 이 객체가 참조를 통해서 공유가 되어 있다면 상태를 변경시키면 원래의 객체의 값이 변경될 수 있다.

> 원본상태의 데이터가 변경되면 안되는 이유는 무엇일까?
>
> 하나의 객체를 여러 곳에서 활용 있다고 생각한다면 각각의 활용되어지는 과정에서 변경된 데이터로써 활용하기에 이 과정에서 개발자가 의도치 않는 변경이 생겨 문제가 생긴다. 이런 문제가 발생하는 것을 방지한다면 좋은 코드를 작성할 수 있을 것이다.

<br>

## 어떤 값이 불변성을 가지고 있을까??

JavaScript에서의 원시타입은 기본적으로 변경 불가능한 값이다.(immutable value)

이는 생성과정에서 알아볼 수 있다.

```js
var str = 'Hi';
str = 'world'
```

식별자 str에 값을 할당할 때 'Hi'를 직접 할당하지 않고 문자열의 값의 주소를 할당한다.

이후 'world'라는 새로운 문자열을 재할당 할 때는 새로운 메모리에 생성 후 'world'의 주소값을 재할당시킨다.

즉, 'Hi', 'world'모두 메모리상에서는 존재하고 있고, 이는 데이터의 불변성을 가지고 있다고 말할 수 있다.


### 참조타입은?

참조타임, 객체나 배열 등은 값을 할당할 때 식별자의 값에 값의 주소가 아닌 "객체의 주소값"을 할당합니다.

코드를 보면서 이해해봅시다.

```js
let a = {
    name : 'nara'
    address : {
        city : 'seoul'
    }
}

let user2 = user1;
user2.name = 'wuga';
console.log(user2.name); // wuga 
console.log(user1.name); // wuga
```

식별자 a에 할당되는 값은 객체의 프로퍼티들이 있는(name, address) 객체의 주소가 할당됩니다.

user2에 user1의 값을 할당하고 user2의 name프로퍼티에 재할당을 한다면 user2.name은 'wuga'가 할당이 될겁니다.

하지만 user1의 name까지 'wuga'가 할당됩니다.

이는  user1, user2 둘 다 객체(name, address)를 참조하기 때문입니다.

<br>

## const로 선언한 값의 불변성

만약 const로 선언한다면 어떨까요?

```js
const user1 = {
    name : 'nara',
    address: {
        city: "seoul"
    }
}
user1 = {
    name : 'wuga',
    address: {
        city: "suwon"
    }
} // Error

// but

user1.name = 'wuga'
```

const는 변수에 할당이 된다면 이후 변할 수 없다는 것, 참조하고 있는 값 자체가 불변 하지 않는다.

고로 const는 항상 불변성을 가진다는 말은 틀린 것이다.

